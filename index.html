<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>GreenGlo Cleaners | Premium Eco-Friendly Cleaning Services London</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="logo.png">
    <!-- Apple Touch Icon for iOS devices -->
    <link rel="apple-touch-icon" href="logo.png">
    <!-- For IE and older browsers -->
    <link rel="shortcut icon" type="image/x-icon" href="logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <!-- Leaflet CSS for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <style>
        /* ===== CSS Reset & Variables ===== */
        :root {
            /* Modern Green Palette */
            --primary-green: #10B981;
            --secondary-green: #34D399;
            --dark-green: #065F46;
            --light-green: #D1FAE5;
            --accent-green: #059669;
            --emerald: #10B981;
            --teal: #0D9488;
            --mint: #A7F3D0;

            /* Neutrals */
            --white: #FFFFFF;
            --off-white: #F9FAFB;
            --light-gray: #F3F4F6;
            --medium-gray: #9CA3AF;
            --dark-gray: #4B5563;
            --black: #111827;

            /* Accents */
            --gold: #FBBF24;
            --shadow: 0 20px 40px rgba(16, 185, 129, 0.12);
            --shadow-lg: 0 25px 50px rgba(16, 185, 129, 0.15);
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 16px;
            --border-radius-lg: 24px;
            --gradient-primary: linear-gradient(135deg, var(--primary-green), var(--teal));
            --gradient-dark: linear-gradient(135deg, var(--dark-green), var(--teal));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.7;
            color: var(--dark-gray);
            background-color: var(--off-white);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            color: var(--dark-green);
            letter-spacing: -0.5px;
        }

        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* ===== Premium Button Styles ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2.5rem;
            background: var(--gradient-primary);
            color: var(--white);
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: var(--shadow);
            gap: 0.75rem;
            min-height: 56px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-dark);
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }

        .btn:hover::before {
            opacity: 1;
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .btn:active {
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-green);
            color: var(--primary-green);
        }

        .btn-outline:hover {
            background: var(--primary-green);
            color: var(--white);
        }

        .btn-large {
            padding: 1.25rem 3rem;
            font-size: 1.125rem;
            min-height: 64px;
        }

        /* ===== Premium Navigation Bar ===== */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(16, 185, 129, 0.1);
            transition: var(--transition);
        }

        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.1);
            padding: 0.5rem 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem 1.5rem;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            transition: var(--transition);
        }

        .nav-logo:hover {
            transform: translateY(-2px);
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-text h1 {
            font-size: 1.75rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0;
            line-height: 1;
        }

        .logo-text span {
            font-size: 0.75rem;
            color: var(--medium-gray);
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-top: 0.25rem;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: 2rem;
            list-style: none;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 600;
            font-size: 1rem;
            padding: 0.5rem 0;
            transition: var(--transition);
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-primary);
            transition: var(--transition);
        }

        .nav-link:hover {
            color: var(--primary-green);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-cta {
            margin-left: 1rem;
        }

        .nav-cta .btn {
            padding: 0.75rem 1.75rem;
            min-height: auto;
        }

        .mobile-menu-btn {
            display: none;
            width: 48px;
            height: 48px;
            background: var(--light-green);
            border-radius: 12px;
            border: none;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            color: var(--primary-green);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            background: var(--mint);
            transform: rotate(90deg);
        }

        /* ===== Mobile Menu Overlay ===== */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* ===== Premium Hero Section ===== */
        .hero {
            min-height: 100vh;
            padding: 120px 0 80px;
            background: linear-gradient(135deg, rgba(209, 250, 229, 0.8) 0%, rgba(255, 255, 255, 0.9) 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            text-align: center;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 850px;
            margin: 0 auto;
            width: 100%;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--white);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            box-shadow: var(--shadow);
            margin-bottom: 2.5rem;
            animation: float 3s ease-in-out infinite;
            justify-content: center;
            margin-left: auto;
            margin-right: auto;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .bics-logo-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .bics-logo {
            height: 24px;
            width: auto;
            display: block;
        }

        .hero-badge i {
            color: var(--gold);
            font-size: 1.25rem;
        }

        .hero-badge span {
            font-weight: 600;
            color: var(--dark-green);
            font-size: 0.9375rem;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 1.5rem;
            line-height: 1.1;
            background: linear-gradient(to right, var(--dark-green), var(--teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: clamp(1.125rem, 3vw, 1.375rem);
            color: var(--dark-gray);
            margin-bottom: 3rem;
            line-height: 1.6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 3rem;
            justify-items: center;
        }

        .hero-feature {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.25rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(16, 185, 129, 0.1);
            transition: var(--transition);
            text-align: left;
            max-width: 400px;
            width: 100%;
        }

        .hero-feature:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
            border-color: var(--primary-green);
        }

        .feature-icon {
            min-width: 56px;
            height: 56px;
            background: var(--gradient-primary);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .feature-text {
            flex: 1;
        }

        .feature-text h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
            color: var(--dark-green);
        }

        .feature-text p {
            font-size: 0.875rem;
            color: var(--medium-gray);
            margin: 0;
        }

        .hero-cta {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            align-items: center;
            margin-bottom: 3rem;
            justify-content: center;
        }

        .hero-image {
            display: none;
        }

        .club-notice {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            background: var(--gradient-primary);
            color: var(--white);
            padding: 1.25rem 2rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
            justify-content: center;
            margin-left: auto;
            margin-right: auto;
        }

        .club-notice i {
            font-size: 1.5rem;
        }

        .club-notice p {
            margin: 0;
            font-weight: 600;
            font-size: 0.9375rem;
        }

        /* ===== Modern Section Styles ===== */
        .section {
            padding: 6rem 0;
            position: relative;
        }

        .section-light {
            background: var(--white);
        }

        .section-gray {
            background: var(--off-white);
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        .section-title p {
            font-size: 1.125rem;
            color: var(--medium-gray);
            max-width: 700px;
            margin: 0 auto;
        }

        /* ===== Premium Features Grid ===== */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: var(--white);
            padding: 3rem 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(16, 185, 129, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-green);
        }

        .feature-icon-large {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            color: var(--white);
            font-size: 2rem;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        /* ===== Premium Stats Counter ===== */
        .stats {
            background: var(--gradient-dark);
            color: var(--white);
            padding: 4rem 0;
            border-radius: var(--border-radius-lg);
            margin: 4rem auto;
            max-width: 1200px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            text-align: center;
        }

        .stat-item h3 {
            font-size: 3.5rem;
            color: var(--white);
            margin-bottom: 0.5rem;
            font-weight: 800;
        }

        .stat-item p {
            font-size: 1.125rem;
            opacity: 0.9;
        }

        /* ===== Premium Services Grid ===== */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(16, 185, 129, 0.1);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-green);
        }

        .service-header {
            height: 200px;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--white);
        }

        .service-content {
            padding: 2rem;
        }

        .service-content h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .service-content p {
            color: var(--medium-gray);
            margin-bottom: 1.5rem;
        }

        /* ===== Testimonials Carousel ===== */
        .testimonials-carousel {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            overflow: hidden;
        }

        .carousel-container {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .testimonial-card {
            flex: 0 0 100%;
            background: var(--white);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .testimonial-card::before {
            content: '"';
            position: absolute;
            top: 2rem;
            left: 2rem;
            font-size: 4rem;
            color: var(--light-green);
            font-family: serif;
            line-height: 1;
        }

        .testimonial-rating {
            color: var(--gold);
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }

        .testimonial-content {
            font-size: 1.125rem;
            line-height: 1.8;
            color: var(--dark-gray);
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
            flex-grow: 1;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: auto;
        }

        .author-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--light-green);
        }

        .author-info h4 {
            margin-bottom: 0.25rem;
            font-size: 1.125rem;
        }

        .author-info p {
            color: var(--medium-gray);
            font-size: 0.875rem;
            margin: 0;
        }

        .carousel-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-top: 3rem;
        }

        .carousel-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--gradient-primary);
            border: none;
            color: var(--white);
            font-size: 1.25rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .carousel-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .carousel-indicators {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
        }

        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--light-gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .carousel-indicator.active {
            background: var(--primary-green);
            transform: scale(1.2);
        }

        /* ===== Premium FAQ - FIXED ===== */
        .faq-grid {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--white);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.1);
            transition: var(--transition);
        }

        .faq-item.active {
            border-color: var(--primary-green);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.15);
        }

        .faq-question {
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.125rem;
            transition: var(--transition);
        }

        .faq-question:hover {
            background: var(--light-green);
        }

        .faq-toggle {
            width: 32px;
            height: 32px;
            background: var(--light-green);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            flex-shrink: 0;
            margin-left: 1rem;
        }

        .faq-item.active .faq-toggle {
            background: var(--primary-green);
            color: var(--white);
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 2rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding 0.4s ease;
        }

        .faq-item.active .faq-answer {
            padding: 0 2rem 2rem;
            max-height: 500px;
        }

        .faq-answer p {
            color: var(--dark-gray);
            line-height: 1.7;
        }

        /* ===== Premium CTA ===== */
        .cta-section {
            background: var(--gradient-dark);
            color: var(--white);
            text-align: center;
            padding: 6rem 0;
            border-radius: var(--border-radius-lg);
            margin: 4rem auto;
            max-width: 1200px;
        }

        .cta-section h2 {
            color: var(--white);
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1.5rem;
        }

        .cta-section p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto 3rem;
        }

        .cta-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* ===== NEW: Coverage Checker Styles ===== */
        .coverage-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 2.5rem;
            align-items: start;
        }

        .coverage-card {
            background: var(--white);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid rgba(16, 185, 129, 0.1);
            height: 100%;
            transition: var(--transition);
        }

        .coverage-card:hover {
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-green);
        }

        .postcode-form {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark-green);
            font-size: 1rem;
        }

        .input-with-button {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        #postcodeInput {
            flex: 1;
            padding: 1rem 1.25rem;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Montserrat', sans-serif;
            transition: var(--transition);
        }

        #postcodeInput:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }

        .input-hint {
            display: block;
            color: var(--medium-gray);
            font-size: 0.85rem;
            margin-top: 0.25rem;
        }

        #checkButton {
            padding: 1rem 1.75rem;
            min-height: auto;
            white-space: nowrap;
        }

        .coverage-result {
            background: var(--off-white);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px dashed rgba(16, 185, 129, 0.3);
            transition: var(--transition);
        }

        .result-placeholder {
            text-align: center;
            color: var(--medium-gray);
        }

        .result-placeholder i {
            font-size: 2rem;
            margin-bottom: 0.75rem;
            color: var(--light-gray);
        }

        .result-success,
        .result-error {
            text-align: center;
            width: 100%;
        }

        .result-success i,
        .result-error i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .result-success i {
            color: var(--primary-green);
        }

        .result-error i {
            color: #EF4444;
        }

        .result-success h4,
        .result-error h4 {
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
        }

        .result-success p,
        .result-error p {
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
        }

        .postcode-display {
            display: inline-block;
            background: var(--light-green);
            color: var(--dark-green);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
            margin: 0.5rem 0;
            font-family: monospace;
        }

        .result-cta {
            margin-top: 1rem;
        }

        .service-areas {
            border-top: 1px solid rgba(16, 185, 129, 0.1);
            padding-top: 1.5rem;
        }

        .areas-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .area-badge {
            padding: 0.75rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .area-london {
            background: rgba(16, 185, 129, 0.1);
            color: var(--dark-green);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .area-kent {
            background: rgba(52, 211, 153, 0.1);
            color: var(--dark-green);
            border: 1px solid rgba(52, 211, 153, 0.3);
        }

        .area-essex {
            background: rgba(13, 148, 136, 0.1);
            color: var(--dark-green);
            border: 1px solid rgba(13, 148, 136, 0.3);
        }

        .areas-note {
            font-size: 0.8rem;
            color: var(--medium-gray);
            text-align: center;
            margin-top: 0.5rem;
        }

        /* Map Styles */
        #serviceAreaMap {
            height: 400px;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(16, 185, 129, 0.2);
            margin-bottom: 1.5rem;
            z-index: 1;
        }

        .map-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(16, 185, 129, 0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--dark-gray);
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 2px solid;
        }

        /* ===== NEW: Image Showcase Styles ===== */
        .image-showcase {
            margin-top: 4rem;
        }

        .image-showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .image-showcase-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(16, 185, 129, 0.1);
        }

        .image-showcase-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-green);
        }

        .image-showcase-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .image-showcase-card:hover img {
            transform: scale(1.05);
        }

        .image-showcase-content {
            padding: 1.5rem;
            text-align: center;
        }

        .image-showcase-content h4 {
            margin-bottom: 0.75rem;
            color: var(--dark-green);
        }

        .image-showcase-content p {
            color: var(--medium-gray);
            font-size: 0.9rem;
        }

        /* ===== NEW: Services Showcase Styles ===== */
        .services-showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 2rem;
        }

        .service-showcase-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(16, 185, 129, 0.1);
        }

        .service-showcase-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-green);
        }

        .service-showcase-image {
            height: 200px;
            overflow: hidden;
        }

        .service-showcase-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .service-showcase-card:hover .service-showcase-image img {
            transform: scale(1.05);
        }

        .service-showcase-content {
            padding: 1.5rem;
        }

        .service-showcase-content h3 {
            margin-bottom: 0.75rem;
            color: var(--dark-green);
        }

        .service-showcase-content p {
            color: var(--medium-gray);
            margin-bottom: 1rem;
        }

        /* ===== NEW: Results Gallery Styles ===== */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .result-card {
            text-align: center;
            transition: var(--transition);
        }

        .result-card:hover {
            transform: translateY(-10px);
        }

        .result-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            box-shadow: var(--shadow);
        }

        .result-card h4 {
            margin-bottom: 0.5rem;
            color: var(--dark-green);
        }

        .result-card p {
            color: var(--medium-gray);
            font-size: 0.9rem;
        }

        /* ===== Email Popup Modal ===== */
        .email-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .email-popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .email-popup-modal {
            background: var(--white);
            border-radius: var(--border-radius-lg);
            max-width: 500px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            transform: translateY(20px) scale(0.95);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .email-popup-overlay.active .email-popup-modal {
            transform: translateY(0) scale(1);
        }

        .email-popup-header {
            background: var(--gradient-primary);
            color: var(--white);
            padding: 2rem;
            text-align: center;
            position: relative;
        }

        .email-popup-header h3 {
            color: var(--white);
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .email-popup-header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .email-popup-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: var(--white);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .email-popup-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .email-popup-content {
            padding: 2.5rem 2rem;
        }

        .email-popup-content p {
            text-align: center;
            color: var(--dark-gray);
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        .email-popup-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .email-popup-input-group {
            position: relative;
        }

        .email-popup-input {
            width: 100%;
            padding: 1.25rem 1.5rem;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Montserrat', sans-serif;
            transition: var(--transition);
            background: var(--white);
        }

        .email-popup-input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }

        .email-popup-input.error {
            border-color: #EF4444;
        }

        .email-popup-error {
            color: #EF4444;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }

        .email-popup-error.show {
            display: block;
        }

        .email-popup-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .email-popup-checkbox input {
            margin-top: 0.25rem;
            flex-shrink: 0;
        }

        .email-popup-checkbox label {
            font-size: 0.875rem;
            color: var(--dark-gray);
            line-height: 1.5;
        }

        .email-popup-checkbox a {
            color: var(--primary-green);
            text-decoration: underline;
        }

        .email-popup-submit {
            width: 100%;
            padding: 1.25rem;
            font-size: 1.125rem;
        }

        .email-popup-submit:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .email-popup-success {
            text-align: center;
            padding: 2rem;
            display: none;
        }

        .email-popup-success.show {
            display: block;
        }

        .email-popup-success i {
            font-size: 3rem;
            color: var(--primary-green);
            margin-bottom: 1.5rem;
        }

        .email-popup-success h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-green);
        }

        .email-popup-success p {
            color: var(--medium-gray);
            margin-bottom: 1.5rem;
        }

        .coupon-code {
            display: inline-block;
            background: var(--light-green);
            color: var(--dark-green);
            padding: 1rem 2rem;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 1.25rem;
            font-weight: 600;
            letter-spacing: 1px;
            margin: 1.5rem 0;
            border: 2px dashed var(--primary-green);
        }

        .email-popup-footer {
            text-align: center;
            padding: 1rem 2rem 2rem;
            border-top: 1px solid var(--light-gray);
            color: var(--medium-gray);
            font-size: 0.875rem;
        }

        /* ===== Premium Footer ===== */
        .footer {
            background: var(--dark-green);
            color: var(--white);
            padding: 6rem 0 2rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .footer-col h3 {
            color: var(--white);
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .footer-col h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--primary-green);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            display: inline-block;
        }

        .footer-links a:hover {
            color: var(--white);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-link {
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }

        .social-link:hover {
            background: var(--primary-green);
            transform: translateY(-3px);
        }

        .newsletter-form {
            margin-top: 1.5rem;
        }

        .newsletter-input {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: var(--white);
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.875rem;
        }

        .footer-bottom a {
            color: var(--primary-green);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-bottom a:hover {
            color: var(--secondary-green);
            text-decoration: underline;
        }

        /* ===== Responsive Design ===== */
        @media (max-width: 1024px) {
            .hero-image {
                display: none;
            }

            .coverage-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            #serviceAreaMap {
                height: 350px;
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 0;
                right: -100%;
                width: 300px;
                height: 100vh;
                background: var(--white);
                flex-direction: column;
                padding: 100px 2rem 2rem;
                gap: 0;
                transition: var(--transition);
                box-shadow: -5px 0 30px rgba(0, 0, 0, 0.1);
                z-index: 1001;
                overflow-y: auto;
            }

            .nav-menu.active {
                right: 0;
            }

            .nav-item {
                width: 100%;
            }

            .nav-link {
                display: block;
                padding: 1.25rem 1rem;
                border-bottom: 1px solid rgba(16, 185, 129, 0.1);
                font-size: 1.1rem;
            }

            .nav-cta {
                margin: 2rem 0 0;
                width: 100%;
            }

            .nav-cta .btn {
                width: 100%;
                justify-content: center;
                padding: 1rem 2rem;
            }

            .mobile-menu-btn {
                display: flex;
                z-index: 1002;
                position: relative;
            }

            .mobile-menu-btn.active {
                background: var(--primary-green);
                color: var(--white);
            }

            .hero-features {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin-left: auto;
                margin-right: auto;
            }

            .features-grid,
            .services-grid,
            .testimonials-grid,
            .image-showcase-grid,
            .services-showcase-grid,
            .results-grid {
                grid-template-columns: 1fr;
            }

            .hero {
                padding: 100px 0 4rem;
            }

            .section {
                padding: 4rem 0;
            }

            .coverage-card {
                padding: 1.75rem;
            }

            .areas-grid {
                grid-template-columns: 1fr;
            }

            .input-with-button {
                flex-direction: column;
            }

            #checkButton {
                width: 100%;
            }

            .hero-cta {
                flex-direction: column;
            }
            
            .hero-cta .btn {
                width: 100%;
                max-width: 300px;
            }

            /* Mobile Close Button */
            .mobile-menu-close {
                position: absolute;
                top: 1.5rem;
                right: 1.5rem;
                width: 44px;
                height: 44px;
                background: var(--light-green);
                border-radius: 12px;
                border: none;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--primary-green);
                font-size: 1.25rem;
                transition: var(--transition);
                z-index: 1003;
            }

            .mobile-menu-close:hover {
                background: var(--mint);
                transform: rotate(90deg);
            }
            
            .faq-question {
                padding: 1.25rem 1.5rem;
                font-size: 1rem;
            }
            
            .faq-answer {
                padding: 0 1.5rem;
            }
            
            .faq-item.active .faq-answer {
                padding: 0 1.5rem 1.5rem;
            }

            .email-popup-modal {
                max-width: 95%;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }

            .hero-cta {
                flex-direction: column;
            }

            .hero-cta .btn {
                width: 100%;
                justify-content: center;
            }

            .cta-buttons {
                flex-direction: column;
            }

            .nav-menu {
                width: 85%;
            }

            .testimonial-card {
                padding: 2rem 1.5rem;
            }
            
            .hero-badge {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
            }
            
            .bics-logo-container {
                justify-content: center;
            }
            
            .club-notice {
                padding: 1rem;
                flex-direction: column;
                text-align: center;
            }

            .email-popup-header {
                padding: 1.5rem;
            }

            .email-popup-content {
                padding: 1.5rem;
            }

            .coupon-code {
                padding: 0.75rem 1rem;
                font-size: 1rem;
            }
        }
    </style>
</head>

<body>
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Premium Navigation Bar -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="#" class="nav-logo">
                <div class="logo-icon">
                    <img src="logo.png" alt="GreenGlo Cleaners Logo"
                        style="width: 100%; height: 100%; object-fit: contain; border-radius: 12px;">
                </div>
                <div class="logo-text">
                    <h1>GreenGlo</h1>
                    <span>Cleaners</span>
                </div>
            </a>

            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>

            <ul class="nav-menu" id="navMenu">
                <button class="mobile-menu-close" id="mobileCloseBtn">
                    <i class="fas fa-times"></i>
                </button>

                <li class="nav-item">
                    <a href="#home" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="services.html" class="nav-link">Services</a>
                </li>

                <li class="nav-item">
                    <a href="gallery.html" class="nav-link">Gallery</a>
                </li>
                <li class="nav-item">
                    <a href="greengloclub.html" class="nav-link">Green Glo Club</a>
                </li>
                <li class="nav-item">
                    <a href="#testimonials" class="nav-link">Testimonials</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">Contact</a>
                </li>
                <li class="nav-item">
                    <a href="airbnb.html" class="nav-link">GreenGlo For Airbnbs</a>
                </li>
                <li class="nav-item">
                    <a href="commercial.html" class="nav-link">Commercial Cleaning</a>
                </li>
                <li class="nav-item nav-cta">
                    <a href="https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I'd%20like%20a%20quote%20for%20cleaning%20services"
                        class="btn" target="_blank">Get Quote</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Premium Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <div class="bics-logo-container">
                        <img src="bics.png" alt="BICSc Registered" class="bics-logo">
                        <span>BICSc Registered</span>
                    </div>
                </div>

                <h1>Professional Cleaning and Maintenance Services</h1>

                <p class="hero-subtitle">
                    Affordable cleaning rates and Maintenance services London. Reliable home cleaning services near you
                    available on weekends and holidays
                </p>

                <div class="hero-features">
                    <div class="hero-feature">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Background-checked & Insured</h4>
                            <p>Fully vetted cleaners across London</p>
                        </div>
                    </div>
                    <div class="hero-feature">
                        <div class="feature-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Flexible Scheduling</h4>
                            <p>Weekly, fortnightly, monthly, or one-off</p>
                        </div>
                    </div>
                    <div class="hero-feature">
                        <div class="feature-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Professional Housekeepers</h4>
                            <p>Expert cleaners with great discounts</p>
                        </div>
                    </div>
                    <div class="hero-feature">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Eco-Friendly Cleaning</h4>
                            <p>Non-toxic and pet-friendly solutions</p>
                        </div>
                    </div>
                </div>

                <div class="hero-cta">
                    <a href="https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I'd%20like%20a%20free%20cleaning%20quote"
                        class="btn btn-large" target="_blank">
                        <i class="fas fa-whatsapp"></i>
                        Free Cleaning Quote
                    </a>
                    <a href="services.html" class="btn btn-outline btn-large">
                        <i class="fas fa-list"></i>
                        View Our Services
                    </a>
                </div>

                <div class="club-notice">
                    <i class="fas fa-crown"></i>
                    <p>Enjoy priority booking, 300 in credits & MORE with GreenGlo Club</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section section-light" id="sustainability">
        <div class="container">
            <div class="section-title">
                <h2>Sustainability & Service Excellence</h2>
                <p>Tailored cleaning plans for individual homes</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon-large">
                        <i class="fas fa-laptop"></i>
                    </div>
                    <h3>Easy To Book</h3>
                    <p>Getting a quote is quick and easy through our WhatsApp. Message us anytime, and we'll send you a
                        prompt, no-hassle estimate right away.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-large">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>Flexible Scheduling</h3>
                    <p>Manage all your house cleaning appointments from a single account! Easily book, reschedule, or
                        plan your future cleaning services with just a few clicks.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-large">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Family-Friendly Cleaning</h3>
                    <p>Enjoy a spotless home without the harsh chemicals. Our non-toxic, eco-friendly cleaning products
                        are safe for your family, pets, and the environment.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Showcase Section -->
    <section class="section section-gray" id="image-showcase">
        <div class="container">
            <div class="section-title">
                <h2>Our Cleaning Services in Action</h2>
                <p>Professional results you can trust</p>
            </div>
            
            <div class="image-showcase-grid">
                <div class="image-showcase-card">
                    <img src="bathroom.png" alt="Professional bathroom cleaning service">
                    <div class="image-showcase-content">
                        <h4>Bathroom Cleaning</h4>
                        <p>Sparkling clean bathrooms with eco-friendly products</p>
                    </div>
                </div>
                
                <div class="image-showcase-card">
                    <img src="carpet.png" alt="Professional carpet cleaning service">
                    <div class="image-showcase-content">
                        <h4>Carpet Cleaning</h4>
                        <p>Deep cleaning for carpets and rugs of all types</p>
                    </div>
                </div>
                
                <div class="image-showcase-card">
                    <img src="afterbuilders.png" alt="After builders cleaning service">
                    <div class="image-showcase-content">
                        <h4>After Builders Clean</h4>
                        <p>Post-construction cleanup for a spotless finish</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Carousel Section -->
    <section class="section section-light" id="testimonials">
        <div class="container">
            <div class="section-title">
                <h2>Home Cleaning Services London Reviews</h2>
                <p>Residential cleaning experts for same-day and emergency cleaning service</p>
            </div>

            <div class="testimonials-carousel">
                <div class="carousel-container" id="carouselContainer">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-content">
                            "Green Glo Cleaning were amazing for my end of tenancy clean for my 1 bed flat. It was quite
                            easy to get an appointment booked and the service was top notch.

                            Will definitely recommend to my contacts who require cleaning services.
                            "
                        </p>
                        <div class="testimonial-author">
                            <div class="author-info">
                                <h4>Adekunle Adepitan</h4>
                                <p>5stars on Google reviews </p>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 2 -->
                    <div class="testimonial-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-content">
                            "I recently had an extractor deep clean done in my kitchen, and I couldn't be happier with
                            the results. The team was professional, thorough, and incredibly attentive to detail. Every
                            surface, appliance, and hard-to-reach area looks spotless and refreshed. The extractor
                            system, in particular, looks as good as new and is working far more efficiently.

                            They arrived on time, worked efficiently, and left the space looking immaculate. It's such a
                            relief to have a kitchen that feels genuinely clean from top to bottom. Highly recommended
                            for anyone needing a proper deep clean and expert extractor cleaning!"
                        </p>
                        <div class="testimonial-author">

                            <div class="author-info">
                                <h4>Natasha Cheema</h4>
                                <p>5stars on Google reviews </p>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 3 -->
                    <div class="testimonial-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-content">
                            "I'm really happy with the service from this cleaning company! Everything was spotless 
                            they did such a great job. Tomi was especially helpful and kind; anytime I asked for a
                            favor, he never hesitated. I've tried other cleaning companies before, but this one stands
                            out  very easy to communicate with and super reliable. Definitely recommending them to
                            others!
                            "
                        </p>
                        <div class="testimonial-author">

                            <div class="author-info">
                                <h4>Fresus Anne Velicaria</h4>
                                <p>5 stars on Google Reviews</p>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 4 -->
                    <div class="testimonial-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-content">
                            "I was so impressed with the recent cleaning done by Green Glo !They were punctual,
                            friendly, and incredibly thorough. They paid attention to detail, even in areas I hadn't
                            noticed. My home now looks and smells amazing, and I feel so much more relaxed. I would
                            definitely recommend them to anyone in need of a professional clean!!"
                        </p>
                        <div class="testimonial-author">
                            <div class="author-info">
                                <h4>Michaela Hickey</h4>
                                <p>5 stars on Google Reviews</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="carousel-controls">
                    <button class="carousel-btn" id="prevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-indicators" id="carouselIndicators">
                        <span class="carousel-indicator active" data-slide="0"></span>
                        <span class="carousel-indicator" data-slide="1"></span>
                        <span class="carousel-indicator" data-slide="2"></span>
                        <span class="carousel-indicator" data-slide="3"></span>
                    </div>
                    <button class="carousel-btn" id="nextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Showcase Section -->
    <section class="section section-gray" id="services-showcase">
        <div class="container">
            <div class="section-title">
                <h2>Our Professional Cleaning Services</h2>
                <p>Comprehensive cleaning solutions for every need</p>
            </div>
            
            <div class="services-showcase-grid">
                <div class="service-showcase-card">
                    <div class="service-showcase-image">
                        <img src="domestic.png" alt="Domestic cleaning service">
                    </div>
                    <div class="service-showcase-content">
                        <h3>Domestic Cleaning</h3>
                        <p>Regular home cleaning services tailored to your schedule and needs. Perfect for busy families and professionals.</p>
                        <a href="services.html" class="btn" style="padding: 0.75rem 1.5rem; font-size: 0.9rem; width: 100%;">Learn More</a>
                    </div>
                </div>
                
                <div class="service-showcase-card">
                    <div class="service-showcase-image">
                        <img src="commercial.png" alt="Commercial cleaning service">
                    </div>
                    <div class="service-showcase-content">
                        <h3>Commercial Cleaning</h3>
                        <p>Office and commercial space cleaning for a productive work environment. Customized cleaning plans for businesses.</p>
                        <a href="services.html" class="btn" style="padding: 0.75rem 1.5rem; font-size: 0.9rem; width: 100%;">Learn More</a>
                    </div>
                </div>
                
                <div class="service-showcase-card">
                    <div class="service-showcase-image">
                        <img src="deep.png" alt="Deep cleaning service">
                    </div>
                    <div class="service-showcase-content">
                        <h3>Deep Cleaning</h3>
                        <p>Thorough cleaning service for move-in/move-out or seasonal deep cleans. Attention to every detail.</p>
                        <a href="services.html" class="btn" style="padding: 0.75rem 1.5rem; font-size: 0.9rem; width: 100%;">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- GreenGlo Club Section -->
    <section class="section section-light" id="club">
        <div class="container">
            <div class="section-title">
                <h2>GreenGlo Membership Club</h2>
                <p>Join GreenGlo</p>
            </div>

            <div class="feature-card" style="max-width: 800px; margin: 0 auto; display: flex; align-items: center; padding: 2rem;">
                <div style="flex: 1; padding-right: 2rem;">
                    <div class="feature-icon-large" style="margin: 0 0 1.5rem;">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3 style="font-size: 2rem; margin-bottom: 1rem;">Enjoy premium booking slots & preferential member rates</h3>
                    <p style="font-size: 1.125rem; color: var(--medium-gray); margin-bottom: 2rem;">
                        Join our exclusive membership club and enjoy benefits like priority booking, exclusive discounts, 300 in credits, and much more.
                    </p>
                    <a href="greengloclub.html" class="btn btn-large">
                        <i class="fas fa-gem"></i>
                        Learn about the club
                    </a>
                </div>

            </div>
        </div>
    </section>

    <!-- Results Gallery Section -->
    <section class="section section-light" id="results-gallery">
        <div class="container">
            <div class="section-title">
                <h2>Our Cleaning Results</h2>
                <p>See the transformation our professional cleaning services provide</p>
            </div>
            
            <div class="results-grid">
                <div class="result-card">
                    <img src="furniture.png" alt="Furniture cleaning results">
                    <h4>Upholstery & Furniture</h4>
                    <p>Professional deep cleaning for all fabric surfaces</p>
                </div>
                
                <div class="result-card">
                    <img src="flooring.png" alt="Floor cleaning results">
                    <h4>Floor & Carpet Care</h4>
                    <p>Expert floor and carpet cleaning services</p>
                </div>
                
                <div class="result-card">
                    <img src="emergency.png" alt="Emergency cleaning service">
                    <h4>Emergency Response</h4>
                    <p>24/7 emergency cleaning solutions</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section - FIXED -->
    <section class="section section-gray" id="faq">
        <div class="container">
            <div class="section-title">
                <h2>House Cleaning Services FAQ</h2>
                <p>Common questions about our cleaning services</p>
            </div>

            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        How much does a professional house cleaning service cost in London?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>Our affordable home cleaning services in London starts at 18/h and offer clear, transparent
                            pricing with no hidden fees. You can get a personalised quote based on the size of your
                            property and the level of cleaning required.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        Are the cleaners vetted and insured?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, all our local cleaners in London are fully background-checked, trained, and insured.
                            Hiring our trusted domestic cleaners London ensures your home is in safe, professional
                            hands.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        What tasks are included in a standard home cleaning service?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>Our house cleaning services London include dusting, vacuuming, sweeping, mopping, kitchen and
                            bathroom cleaning, and general tidying of living areas. You can also request extras such as
                            appliance cleaning and oven cleaning London for a complete, spotless home.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        How do I schedule or manage bookings online?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>Our easy-to-use platform allows you to book professional home cleaners London in just a few
                            clicks. You can manage all appointments, reschedule services, and plan future visits
                            directly from your account.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        What eco-friendly products do you use?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>We use only certified eco-friendly, non-toxic cleaning products that are safe for children,
                            pets, and the environment. Our products are biodegradable and come from sustainable sources.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        Do you offer emergency cleaning services?
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, we offer same-day and emergency cleaning services for urgent situations. Contact us via
                            WhatsApp for immediate assistance, and we'll do our best to accommodate your needs.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW: Service Coverage Checker & Map Section -->
    <section class="section section-light" id="coverage-checker">
        <div class="container">
            <div class="section-title">
                <h2>Check Our Service Coverage</h2>
                <p>Enter your postcode to see if GreenGlo serves your area in London, Kent, and Essex.</p>
            </div>

            <div class="coverage-container">
                <!-- Left Column: Input Form & Results -->
                <div class="coverage-form-container">
                    <div class="coverage-card">
                        <div class="feature-icon-large" style="margin: 0 auto 1.5rem;">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h3 style="text-align: center; margin-bottom: 1rem;">Are We in Your Area?</h3>

                        <!-- Input Form -->
                        <form id="postcodeForm" class="postcode-form">
                            <div class="form-group">
                                <label for="postcodeInput">Your UK Postcode</label>
                                <div class="input-with-button">
                                    <input 
                                        type="text" 
                                        id="postcodeInput" 
                                        placeholder="e.g., SW1A 1AA, ME14 2TT" 
                                        aria-label="Enter your UK postcode"
                                    >
                                    <button type="submit" class="btn" id="checkButton">
                                        <i class="fas fa-search"></i> Check
                                    </button>
                                </div>
                                <small class="input-hint">Enter the first part (outcode) or full postcode.</small>
                            </div>
                        </form>

                        <!-- Results Display -->
                        <div id="coverageResult" class="coverage-result" aria-live="polite">
                            <div class="result-placeholder">
                                <i class="fas fa-map-pin"></i>
                                <p>Your coverage result will appear here.</p>
                            </div>
                        </div>

                        <!-- Service Area List -->
                        <div class="service-areas">
                            <h4 style="margin-bottom: 1rem;"><i class="fas fa-check-circle"></i> Our Primary Service Areas</h4>
                            <div class="areas-grid">
                                <div class="area-badge area-london">
                                    <i class="fas fa-landmark"></i> London
                                </div>
                                <div class="area-badge area-kent">
                                    <i class="fas fa-tree"></i> Kent
                                </div>
                                <div class="area-badge area-essex">
                                    <i class="fas fa-water"></i> Essex
                                </div>
                            </div>
                            <p class="areas-note">Coverage based on postcode areas. Some outer districts may vary.</p>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Interactive Map -->
                <div class="coverage-map-container">
                    <div class="coverage-card">
                        <h3 style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <i class="fas fa-map"></i> Service Coverage Map
                        </h3>
                        <p style="color: var(--medium-gray); margin-bottom: 1.5rem; font-size: 0.95rem;">
                            Explore our service regions. <strong>Green areas</strong> are covered.
                        </p>
                        
                        <!-- Map Container -->
                        <div id="serviceAreaMap"></div>
                        
                        <div class="map-legend">
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: rgba(16, 185, 129, 0.3); border-color: var(--primary-green);"></span>
                                <span>Covered Region (London, Kent, Essex)</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: var(--light-gray); border-color: var(--medium-gray);"></span>
                                <span>Surrounding Areas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section" id="contact">
        <div class="container">
            <div class="cta-section">
                <h2>Ready to book now?</h2>
                <p>Schedule your professional cleaning service today with our easy online booking system.</p>
                <div class="cta-buttons">
                    <a href="https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I'd%20like%20to%20book%20a%20cleaning%20service"
                        class="btn btn-large" target="_blank">
                        <i class="fas fa-whatsapp"></i>
                        Book now
                    </a>
                    <a href="https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I'd%20like%20to%20request%20a%20quote"
                        class="btn btn-outline btn-large" target="_blank">
                        <i class="fas fa-whatsapp"></i>
                        Request a quote
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Email Popup Modal -->
    <div class="email-popup-overlay" id="emailPopup">
        <div class="email-popup-modal">
            <div class="email-popup-header">
                <h3>Get 10% Off Your First Clean!</h3>
                <p>Subscribe to receive your exclusive discount code</p>
                <button class="email-popup-close" id="closeEmailPopup">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="email-popup-content">
                <div id="emailForm">
                    <p>Enter your email below to receive your 10% discount code valid for first-time customers.</p>
                    
                    <form class="email-popup-form" id="discountForm">
                        <div class="email-popup-input-group">
                            <input type="email" 
                                   class="email-popup-input" 
                                   id="userEmail" 
                                   placeholder="Your email address" 
                                   required>
                            <div class="email-popup-error" id="emailError">
                                Please enter a valid email address
                            </div>
                        </div>
                        
                        <div class="email-popup-checkbox">
                            <input type="checkbox" id="agreeTerms" required>
                            <label for="agreeTerms">
                                I agree to receive marketing emails from GreenGlo Cleaners. 
                                You can unsubscribe at any time. 
                                <a href="#" target="_blank">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <button type="submit" class="btn email-popup-submit" id="submitEmail">
                            <i class="fas fa-gift"></i> Get My 10% Discount Code
                        </button>
                    </form>
                </div>
                
                <div class="email-popup-success" id="successMessage">
                    <i class="fas fa-check-circle"></i>
                    <h4>Success! Check Your Email</h4>
                    <p>Your 10% discount code has been sent to:</p>
                    <p style="font-weight: 600;" id="sentEmail"></p>
                    <div class="coupon-code" id="couponCode">NEWCUSTOMER10</div>
                    <p style="font-size: 0.9rem;">This code is valid for first-time customers only.</p>
                    <button class="btn" onclick="window.location.href='https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I%27d%20like%20to%20use%20my%2010%25%20discount%20code%20NEWCUSTOMER10'">
                        <i class="fas fa-whatsapp"></i> Book Now with Discount
                    </button>
                </div>
            </div>
            
            <div class="email-popup-footer">
                <p>Limited time offer. One use per customer.</p>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp Button for Green Glo Cleaning Co -->
    <style>
        /* WhatsApp Button Core Styles */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 9999;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        .whatsapp-button {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.4);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            position: relative;
            overflow: hidden;
        }

        .whatsapp-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.5);
        }

        .whatsapp-button:active {
            transform: scale(0.95);
        }

        /* Improved WhatsApp Logo */
        .whatsapp-icon-container {
            position: relative;
            width: 30px;
            height: 30px;
        }

        .whatsapp-icon {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
            transition: all 0.3s ease;
        }

        .whatsapp-button:hover .whatsapp-icon {
            transform: translateY(-2px);
        }

        /* Notification Badge */
        .whatsapp-notification {
            position: absolute;
            top: -5px;
            right: -5px;
            background: linear-gradient(135deg, #FF5252 0%, #FF1744 100%);
            color: white;
            font-size: 12px;
            font-weight: 700;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: notificationPulse 2s infinite;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(255, 23, 68, 0.4);
            z-index: 1;
        }

        @keyframes notificationPulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.7);
            }

            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(255, 82, 82, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 82, 82, 0);
            }
        }

        /* Message Bubble */
        .whatsapp-message-bubble {
            position: absolute;
            bottom: 75px;
            right: 0;
            background: white;
            border-radius: 18px 18px 0 18px;
            padding: 15px;
            width: 280px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
        }

        .whatsapp-message-bubble.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
        }

        .message-info h4 {
            margin: 0;
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .message-info p {
            margin: 2px 0 0;
            font-size: 12px;
            color: #25D366;
            font-weight: 500;
        }

        .message-content {
            font-size: 13px;
            color: #555;
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .message-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 13px;
            margin-bottom: 10px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .message-input:focus {
            border-color: #25D366;
        }

        .send-button {
            width: 100%;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .send-button:hover {
            background: linear-gradient(135deg, #22c55e 0%, #0d8a71 100%);
        }

        .close-bubble {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: #999;
            font-size: 20px;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-bubble:hover {
            background: #f5f5f5;
            color: #333;
        }

        /* Tooltip */
        .whatsapp-tooltip {
            position: absolute;
            right: 75px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            color: #333;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: -1;
        }

        .whatsapp-button:hover+.whatsapp-tooltip {
            opacity: 1;
            visibility: visible;
            right: 70px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
            }

            .whatsapp-button {
                width: 56px;
                height: 56px;
            }

            .whatsapp-message-bubble {
                width: calc(100vw - 40px);
                max-width: 320px;
                right: 0;
            }

            .whatsapp-tooltip {
                display: none;
            }
        }
    </style>

    <div class="whatsapp-float">
        <div class="whatsapp-message-bubble" id="whatsappBubble">
            <button class="close-bubble" onclick="closeBubble()"></button>
            <div class="message-header">
                <div class="message-avatar">GG</div>
                <div class="message-info">
                    <h4>Green Glo Cleaning Co</h4>
                    <p id="statusText">Typically replies in 24 hours</p>
                </div>
            </div>
            <div class="message-content">
                Hello!  Need a professional clean? Message us for a free quote or to book a service. We're here to
                help!
            </div>
            <input type="text" class="message-input" id="whatsappMessage" placeholder="Type your message here..."
                maxlength="200">
            <button class="send-button" onclick="sendWhatsAppMessage()">
                <svg xmlns="http://whatsapp.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                    <path d="M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z" />
                </svg>
                Send to WhatsApp
            </button>
        </div>

        <button class="whatsapp-button" id="whatsappButton" onclick="toggleBubble()">
            <div class="whatsapp-notification" id="whatsappNotification">1</div>
            <div class="whatsapp-icon-container">
                <!-- Optimized WhatsApp Logo -->
                <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="white">
                    <path
                        d="M12 0a12 12 0 1 0 12 12A12 12 0 0 0 12 0Zm6.49 15.387l-1.745 1.745a.374.374 0 0 1-.531 0l-1.93-1.93a.374.374 0 0 1 0-.53l1.745-1.745a6.9 6.9 0 0 0-8.858-.416l-1.21 1.21a6.9 6.9 0 0 0-.416 8.858l-1.745 1.745a.374.374 0 0 1-.531 0l-1.93-1.93a.374.374 0 0 1 0-.53l1.745-1.745a6.9 6.9 0 0 0 .416-8.858l1.21-1.21a6.9 6.9 0 0 0 8.858-.416l1.745-1.745a.374.374 0 0 1 .531 0l1.93 1.93a.374.374 0 0 1 0 .53l-1.745 1.745a6.9 6.9 0 0 0 .416 8.858Z" />
                </svg>
            </div>
        </button>
        <span class="whatsapp-tooltip">Chat with Green Glo Cleaning</span>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>GreenGlo Cleaners</h3>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1.5rem;">
                        Professional eco-friendly cleaning services for homes and offices across London.
                    </p>
                    <div class="social-links">
                        <a href="https://instagram.com/greenglocleaningco" class="social-link" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://tiktok.com/@greenglocleaningco" class="social-link" target="_blank" aria-label="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="https://facebook.com/greenglocleaningco" class="social-link" target="_blank" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </div>
                </div>

                <div class="footer-col">
                    <h3>Our Services</h3>
                    <ul class="footer-links">
                        <li><a href="services.html">Domestic cleaning</a></li>
                        <li><a href="services.html">One-off cleaning</a></li>
                        <li><a href="services.html">End of tenancy cleaning</a></li>
                        <li><a href="services.html">Carpet cleaning</a></li>
                        <li><a href="services.html">Office cleaning</a></li>
                        <li><a href="services.html">View all services</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="index.html#prices">Prices</a></li>
                        <li><a href="index.html#club">GreenGlo Club</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="index.html#faq">FAQ</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1.5rem;">
                        <i class="fas fa-phone" style="margin-right: 0.5rem;"></i> 07827 784204
                    </p>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1.5rem;">
                        <i class="fas fa-envelope" style="margin-right: 0.5rem;"></i> info@greenglocleaningco.com
                    </p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>GreenGlo Cleaners London  2025. All rights reserved | <a href="#">Privacy Policy</a> | <a
                        href="#">Terms of Service</a></p>
                <p style="margin-top: 0.5rem;">Created by <a
                        href="https://api.whatsapp.com/send?phone=447543737488&text=" target="_blank">Sacha
                        Raif</a></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        // ===== Mobile Navigation =====
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileCloseBtn = document.getElementById('mobileCloseBtn');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        const navMenu = document.getElementById('navMenu');
        const navbar = document.getElementById('navbar');
        const navLinks = document.querySelectorAll('.nav-link');

        // Function to open mobile menu
        const openMobileMenu = () => {
            navMenu.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            mobileMenuBtn.classList.add('active');
            mobileMenuBtn.innerHTML = '<i class="fas fa-times"></i>';
            document.body.style.overflow = 'hidden';
        };

        // Function to close mobile menu
        const closeMobileMenu = () => {
            navMenu.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            mobileMenuBtn.classList.remove('active');
            mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            document.body.style.overflow = '';
        };

        // Toggle Mobile Menu
        mobileMenuBtn.addEventListener('click', () => {
            if (navMenu.classList.contains('active')) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        });

        // Close Mobile Menu with Close Button
        mobileCloseBtn.addEventListener('click', closeMobileMenu);

        // Close Mobile Menu with Overlay Click
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);

        // Close Mobile Menu on Link Click
        navLinks.forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });

        // Close menu on Escape key press
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && navMenu.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        // Navbar Scroll Effect
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // ===== Testimonial Carousel =====
        const carouselContainer = document.getElementById('carouselContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const indicators = document.querySelectorAll('.carousel-indicator');
        const totalSlides = document.querySelectorAll('.testimonial-card').length;
        let currentSlide = 0;

        // Function to update carousel position
        function updateCarousel() {
            carouselContainer.style.transform = `translateX(-${currentSlide * 100}%)`;

            // Update indicators
            indicators.forEach((indicator, index) => {
                if (index === currentSlide) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }

        // Next slide function
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        }

        // Previous slide function
        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateCarousel();
        }

        // Add click events to buttons
        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);

        // Add click events to indicators
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                currentSlide = index;
                updateCarousel();
            });
        });

        // Auto-rotate carousel every 5 seconds
        let carouselInterval = setInterval(nextSlide, 5000);

        // Pause auto-rotation on hover
        const carousel = document.querySelector('.testimonials-carousel');
        carousel.addEventListener('mouseenter', () => {
            clearInterval(carouselInterval);
        });

        carousel.addEventListener('mouseleave', () => {
            clearInterval(carouselInterval);
            carouselInterval = setInterval(nextSlide, 5000);
        });

        // ===== FAQ Accordion - FIXED =====
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            
            question.addEventListener('click', () => {
                // Close all other FAQs
                faqItems.forEach(otherItem => {
                    if (otherItem !== item && otherItem.classList.contains('active')) {
                        otherItem.classList.remove('active');
                    }
                });
                
                // Toggle current FAQ
                item.classList.toggle('active');
            });
        });

        // ===== Animated Counter =====
        const counters = document.querySelectorAll('[data-count]');
        const speed = 200;

        const animateCounter = () => {
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-count');
                const count = +counter.innerText.replace('+', '');

                if (count < target) {
                    counter.innerText = Math.ceil(count + target / speed) + '+';
                    setTimeout(animateCounter, 1);
                } else {
                    counter.innerText = target + '+';
                }
            });
        };

        // Trigger counter when in viewport
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounter();
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        counters.forEach(counter => observer.observe(counter.parentElement));

        // ===== Smooth Scrolling =====
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href') === '#') return;

                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);

                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // ===== Add Loading Animation to Elements =====
        const animatedElements = document.querySelectorAll('.feature-card, .service-card, .testimonial-card');
        animatedElements.forEach((el, index) => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
        });

        const elementObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        animatedElements.forEach(el => elementObserver.observe(el));

        // ===== NEW: Coverage Checker & Map Functionality =====
        const serviceConfig = {
            coveredAreas: [
                'E', 'EC', 'N', 'NW', 'SE', 'SW', 'W', 'WC',
                'ME', 'TN', 'CT', 'DA',
                'IG', 'RM', 'CM', 'SS', 'CO'
            ],
            companyName: 'GreenGlo Cleaners',
            phoneNumber: '447827784204'
        };

        // DOM Elements for Coverage Checker
        const postcodeForm = document.getElementById('postcodeForm');
        const postcodeInput = document.getElementById('postcodeInput');
        const coverageResult = document.getElementById('coverageResult');
        const checkButton = document.getElementById('checkButton');

        // Initialize the Map
        let serviceMap = null;
        let coverageLayer = null;
        
        function initServiceMap() {
            serviceMap = L.map('serviceAreaMap').setView([51.507, 0.127], 9);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: ' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                maxZoom: 13,
                minZoom: 7
            }).addTo(serviceMap);
            
            const serviceAreaCoords = [
                [51.686, 0.010],
                [51.686, 0.800],
                [51.200, 0.800],
                [51.200, -0.510],
                [51.686, -0.510],
                [51.686, 0.010]
            ];
            
            coverageLayer = L.polygon(serviceAreaCoords, {
                color: 'var(--primary-green)',
                weight: 2,
                fillColor: 'rgba(16, 185, 129, 0.3)',
                fillOpacity: 0.4,
                className: 'service-coverage-layer'
            }).addTo(serviceMap);
            
            L.marker([51.507, -0.127])
                .addTo(serviceMap)
                .bindPopup('<b>GreenGlo Cleaners</b><br>London Headquarters')
                .openPopup();
        }

        // UK Postcode Validation & Parser
        function validateAndParsePostcode(postcode) {
            let cleanPostcode = postcode.toUpperCase().replace(/\s+/g, '').trim();
            
            const postcodeRegex = /^([A-Z]{1,2}\d{1,2}[A-Z]?)\d[A-Z]{2}$/;
            
            if (!postcodeRegex.test(cleanPostcode)) {
                const outcodeRegex = /^([A-Z]{1,2}\d{1,2}[A-Z]?)/;
                const match = cleanPostcode.match(outcodeRegex);
                if (match) {
                    return { valid: true, fullPostcode: null, outcode: match[1] };
                }
                return { valid: false, error: 'Please enter a valid UK postcode format (e.g., SW1A 1AA or ME14 2TT).' };
            }
            
            const outcodeMatch = cleanPostcode.match(/^[A-Z]{1,2}\d{1,2}[A-Z]?/);
            const outcode = outcodeMatch ? outcodeMatch[0] : null;
            
            return {
                valid: true,
                fullPostcode: cleanPostcode.replace(/(.{3})$/, ' $1'),
                outcode: outcode
            };
        }

        // Check if Postcode is in Service Area
        function checkServiceCoverage(postcodeData) {
            const outcode = postcodeData.outcode;
            if (!outcode) return false;
            
            for (const area of serviceConfig.coveredAreas) {
                if (outcode.startsWith(area)) {
                    return {
                        covered: true,
                        area: area,
                        region: getRegionName(area)
                    };
                }
            }
            return { covered: false };
        }
        
        // Get region name from postcode area
        function getRegionName(area) {
            const londonAreas = ['E', 'EC', 'N', 'NW', 'SE', 'SW', 'W', 'WC'];
            const kentAreas = ['ME', 'TN', 'CT', 'DA'];
            const essexAreas = ['IG', 'RM', 'CM', 'SS', 'CO'];
            
            if (londonAreas.includes(area)) return 'London';
            if (kentAreas.includes(area)) return 'Kent';
            if (essexAreas.includes(area)) return 'Essex';
            return area;
        }

        // Display Results
        function displayCoverageResult(postcodeData, coverageInfo) {
            if (coverageInfo.covered) {
                coverageResult.innerHTML = `
                    <div class="result-success">
                        <i class="fas fa-check-circle"></i>
                        <h4>Great News! We Cover Your Area</h4>
                        <div class="postcode-display">${postcodeData.fullPostcode || postcodeData.outcode}</div>
                        <p>Your postcode is in our <strong>${coverageInfo.region}</strong> service area.</p>
                        <p style="font-size: 0.95rem; color: var(--medium-gray);">
                            <i class="fas fa-clock"></i> Next available slots in ${coverageInfo.region}
                        </p>
                        <div class="result-cta">
                            <a href="https://api.whatsapp.com/send?phone=${serviceConfig.phoneNumber}&text=Hello%20GreenGlo,%20I'm%20in%20${encodeURIComponent(postcodeData.outcode)}%20and%20would%20like%20a%20quote" 
                               class="btn" 
                               target="_blank" 
                               style="margin-top: 1rem;">
                                <i class="fas fa-whatsapp"></i> Get a Quote for ${postcodeData.outcode}
                            </a>
                        </div>
                    </div>
                `;
                coverageResult.style.borderColor = 'var(--primary-green)';
                coverageResult.style.background = 'rgba(16, 185, 129, 0.05)';
            } else {
                coverageResult.innerHTML = `
                    <div class="result-error">
                        <i class="fas fa-times-circle"></i>
                        <h4>Currently Not in Your Area</h4>
                        <div class="postcode-display">${postcodeData.fullPostcode || postcodeData.outcode}</div>
                        <p>We don't currently serve <strong>${postcodeData.outcode}</strong>. Our primary areas are London, Kent & Essex.</p>
                        <p style="font-size: 0.95rem; color: var(--medium-gray);">
                            <i class="fas fa-info-circle"></i> Service areas expanding soon!
                        </p>
                        <div class="result-cta">
                            <button class="btn btn-outline" onclick="document.getElementById('postcodeInput').focus()" style="margin-top: 1rem;">
                                <i class="fas fa-redo"></i> Check Another Postcode
                            </button>
                        </div>
                    </div>
                `;
                coverageResult.style.borderColor = '#EF4444';
                coverageResult.style.background = 'rgba(239, 68, 68, 0.05)';
            }
        }

        // Form Submission Handler
        postcodeForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const postcode = postcodeInput.value.trim();
            if (!postcode) {
                postcodeInput.focus();
                return;
            }
            
            // Track coverage check with analytics
            if (window.GreenGloAnalytics) {
                window.GreenGloAnalytics.trackEvent('search', 'coverage_check', postcode);
            }
            
            // Disable button during processing
            const originalBtnText = checkButton.innerHTML;
            checkButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Checking...';
            checkButton.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // Validate postcode
                const postcodeData = validateAndParsePostcode(postcode);
                
                if (!postcodeData.valid) {
                    coverageResult.innerHTML = `
                        <div class="result-error">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h4>Invalid Postcode</h4>
                            <p>${postcodeData.error}</p>
                            <p style="font-size: 0.9rem;">Examples: SW1A 1AA (London), ME14 2TT (Kent), CM1 1AA (Essex)</p>
                        </div>
                    `;
                    coverageResult.style.borderColor = '#F59E0B';
                    coverageResult.style.background = 'rgba(245, 158, 11, 0.05)';
                } else {
                    // Check coverage
                    const coverageInfo = checkServiceCoverage(postcodeData);
                    displayCoverageResult(postcodeData, coverageInfo);
                    
                    // Track successful coverage check
                    if (window.GreenGloAnalytics && coverageInfo.covered) {
                        window.GreenGloAnalytics.trackEvent('search', 'coverage_result', 'covered', coverageInfo.region);
                    }
                    
                    // Zoom map to approximate area if covered
                    if (coverageInfo.covered && serviceMap) {
                        const regions = {
                            'London': { center: [51.507, -0.127], zoom: 10 },
                            'Kent': { center: [51.278, 0.527], zoom: 9 },
                            'Essex': { center: [51.759, 0.457], zoom: 9 }
                        };
                        
                        if (regions[coverageInfo.region]) {
                            const { center, zoom } = regions[coverageInfo.region];
                            serviceMap.setView(center, zoom);
                        }
                    }
                }
                
                // Re-enable button
                checkButton.innerHTML = originalBtnText;
                checkButton.disabled = false;
            }, 800); // Simulated delay
        });

        // Initialize Coverage Checker when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initServiceMap();
            
            // Example postcodes for placeholder
            const examples = ['SW1A 1AA', 'ME14 2TT', 'IG1 1AA'];
            let exampleIndex = 0;
            
            // Optional: Cycle example postcodes in placeholder
            setInterval(() => {
                postcodeInput.placeholder = `e.g., ${examples[exampleIndex]}`;
                exampleIndex = (exampleIndex + 1) % examples.length;
            }, 3000);
        });

        // ===== WhatsApp Floating Button =====
        const whatsappConfig = {
            phoneNumber: "447827784204",
            companyName: "Green Glo Cleaning Co",
            defaultMessage: "Hello, I'm interested in your professional cleaning services. Could you provide more information?"
        };

        // DOM Elements for WhatsApp
        const whatsappButton = document.getElementById('whatsappButton');
        const whatsappBubble = document.getElementById('whatsappBubble');
        const whatsappNotification = document.getElementById('whatsappNotification');
        const whatsappMessageInput = document.getElementById('whatsappMessage');
        const statusText = document.getElementById('statusText');

        // Toggle message bubble
        function toggleBubble() {
            whatsappBubble.classList.contains('active') ? closeBubble() : openBubble();
        }

        function openBubble() {
            whatsappBubble.classList.add('active');
            whatsappMessageInput.focus();
            whatsappNotification.style.display = 'none';
            localStorage.setItem('whatsappNotificationRead', 'true');
        }

        function closeBubble() {
            whatsappBubble.classList.remove('active');
        }

        // Send WhatsApp message using your specific link format - WITH ANALYTICS TRACKING
        function sendWhatsAppMessage() {
            let message = whatsappMessageInput.value.trim();
            if (!message) message = whatsappConfig.defaultMessage;

            // Track WhatsApp conversion with analytics
            if (window.GreenGloAnalytics) {
                window.GreenGloAnalytics.trackEvent('click', 'messaging', 'whatsapp_message_sent', message.length);
                window.GreenGloAnalytics.trackConversion('whatsapp_message', null, null, 'general_inquiry');
            }

            // Construct the URL using your exact WhatsApp API link format
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://api.whatsapp.com/send?phone=447827784204&text=${encodedMessage}`;

            // Open the chat in a new tab
            window.open(whatsappUrl, '_blank');

            // Close bubble and reset
            closeBubble();
            whatsappMessageInput.value = '';

            // Optional: Track the event (for analytics)
            console.log('WhatsApp message initiated for:', whatsappConfig.companyName);
        }

        // Manage notifications
        function checkNotificationStatus() {
            const notificationRead = localStorage.getItem('whatsappNotificationRead');
            const lastVisit = localStorage.getItem('lastWhatsAppVisit');
            const now = new Date().getTime();

            if (!notificationRead || !lastVisit || (now - parseInt(lastVisit) > 24 * 60 * 60 * 1000)) {
                whatsappNotification.style.display = 'flex';
            } else {
                whatsappNotification.style.display = 'none';
            }
            localStorage.setItem('lastWhatsAppVisit', now.toString());
        }

        // Update status based on working hours
        function updateWorkingStatus() {
            const now = new Date();
            const day = now.getDay(); // 0 = Sunday
            const hour = now.getHours();

            // Set working hours: Mon-Fri 8am-8pm, Sat 9am-6pm
            const isWorkingHours = (
                (day >= 1 && day <= 5 && hour >= 8 && hour < 20) ||
                (day === 6 && hour >= 9 && hour < 18)
            );

            if (statusText) {
                statusText.textContent = isWorkingHours
                    ? "Typically replies instantly  Follow @greenglocleaningco"
                    : "Will reply during working hours  Follow @greenglocleaningco";
                statusText.style.color = isWorkingHours ? "#25D366" : "#FF9800";
            }
        }

        // Close bubble when clicking outside
        document.addEventListener('click', function (event) {
            if (!whatsappButton.contains(event.target) &&
                !whatsappBubble.contains(event.target) &&
                whatsappBubble.classList.contains('active')) {
                closeBubble();
            }
        });

        // Send message on Enter key
        if (whatsappMessageInput) {
            whatsappMessageInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendWhatsAppMessage();
                }
            });
        }

        // Initialize WhatsApp functionality
        checkNotificationStatus();
        updateWorkingStatus();

        // Update status every minute
        setInterval(updateWorkingStatus, 60000);

        // ===== Email Popup System with Supabase & Mailjet =====
        const EMAIL_CONFIG = {
            // Use the correct Supabase key format
            supabaseUrl: 'https://faxjeniohetefqwcsefi.supabase.co',
            supabaseKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZheGplbmlvaGV0ZXF3Y3NlZmkiLCJyb2xlIjoic2VydmljZV9yb2xlIiwiaWF0IjoxNzE5MzIyNTM5LCJleHAiOjIwMzQ4OTg1Mzl9.a31689c908b6e163c2135ef0c9093bc8',
            
            // Your Mailjet API credentials
            mailjetPublicKey: 'a31689c908b6e163c2135ef0c9093bc8',
            mailjetPrivateKey: '1598d2ec1d0606b66744d8b21455681a',
            senderEmail: 'info@greenglocleaningco.com',
            senderName: 'GreenGlo Cleaning Co',
            
            // Stripe coupon details
            couponCode: 'NEWCUSTOMER10',
            couponPercent: 10,
            
            // Popup settings
            popupDelay: 3000, // 3 seconds delay
            localStorageKey: 'greenglo_email_popup_shown'
        };

        // Initialize Supabase client with correct credentials
        const supabaseClient = supabase.createClient(
            EMAIL_CONFIG.supabaseUrl,
            EMAIL_CONFIG.supabaseKey,
            {
                auth: {
                    autoRefreshToken: true,
                    persistSession: true,
                    detectSessionInUrl: false
                }
            }
        );

        // DOM Elements for Email Popup
        const emailPopup = document.getElementById('emailPopup');
        const closeEmailPopup = document.getElementById('closeEmailPopup');
        const discountForm = document.getElementById('discountForm');
        const userEmailInput = document.getElementById('userEmail');
        const emailError = document.getElementById('emailError');
        const submitEmailBtn = document.getElementById('submitEmail');
        const emailForm = document.getElementById('emailForm');
        const successMessage = document.getElementById('successMessage');
        const sentEmail = document.getElementById('sentEmail');
        const couponCodeDisplay = document.getElementById('couponCode');

        // Show popup after delay
        function showEmailPopup() {
            const hasSeenPopup = localStorage.getItem(EMAIL_CONFIG.localStorageKey);
            
            // Show popup after 3 seconds if user hasn't seen it
            setTimeout(() => {
                if (!hasSeenPopup) {
                    emailPopup.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }, EMAIL_CONFIG.popupDelay);
        }

        // Close popup
        function closePopup() {
            emailPopup.classList.remove('active');
            document.body.style.overflow = '';
            localStorage.setItem(EMAIL_CONFIG.localStorageKey, 'true');
        }

        // Validate email
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Save email to Supabase
        async function saveEmailToSupabase(email) {
            try {
                console.log('Attempting to save email to Supabase:', email);
                
                const { data, error } = await supabaseClient
                    .from('newsletter_subscribers')
                    .insert([
                        {
                            email: email,
                            coupon_code: EMAIL_CONFIG.couponCode,
                            coupon_sent: true,
                            source: 'website_popup',
                            created_at: new Date().toISOString()
                        }
                    ]);

                if (error) {
                    console.error('Supabase error:', error);
                    // Try alternative table name if newsletter_subscribers doesn't exist
                    const { data: altData, error: altError } = await supabaseClient
                        .from('email_subscribers')
                        .insert([
                            {
                                email: email,
                                coupon_code: EMAIL_CONFIG.couponCode,
                                coupon_sent: true,
                                source: 'website_popup',
                                created_at: new Date().toISOString()
                            }
                        ]);

                    if (altError) {
                        console.error('Alternative Supabase error:', altError);
                        throw altError;
                    }
                    
                    return { success: true, data: altData };
                }
                
                return { success: true, data };
            } catch (error) {
                console.error('Error saving to Supabase:', error);
                return { success: false, error };
            }
        }

        // Send email via Mailjet
        async function sendDiscountEmail(email) {
            try {
                console.log('Attempting to send email via Mailjet to:', email);
                
                // Create a simple email sending function using fetch
                // Mailjet requires proper authentication
                const response = await fetch('https://api.mailjet.com/v3.1/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Basic ' + btoa(`${EMAIL_CONFIG.mailjetPublicKey}:${EMAIL_CONFIG.mailjetPrivateKey}`)
                    },
                    body: JSON.stringify({
                        Messages: [
                            {
                                From: {
                                    Email: EMAIL_CONFIG.senderEmail,
                                    Name: EMAIL_CONFIG.senderName
                                },
                                To: [
                                    {
                                        Email: email,
                                        Name: email.split('@')[0]
                                    }
                                ],
                                Subject: ` Your 10% Discount Code from GreenGlo Cleaning Co!`,
                                HTMLPart: createEmailHtml(email),
                                TextPart: createEmailText(email)
                            }
                        ]
                    })
                });

                const responseData = await response.json();
                
                if (!response.ok) {
                    console.error('Mailjet API error:', responseData);
                    return { success: false, error: responseData };
                }

                console.log('Mailjet email sent successfully');
                return { success: true, data: responseData };
            } catch (error) {
                console.error('Error sending email via Mailjet:', error);
                // Even if Mailjet fails, we'll still show success to user
                // But save locally for manual follow-up
                saveEmailLocally(email);
                return { success: false, error };
            }
        }

        // Create HTML email content
        function createEmailHtml(email) {
            return `
                <!DOCTYPE html>
                <html>
                <head>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px; }
                        .header { background: linear-gradient(135deg, #10B981, #0D9488); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
                        .content { background: white; padding: 30px; border-radius: 0 0 10px 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
                        .coupon-box { background: #D1FAE5; border: 2px dashed #10B981; padding: 20px; text-align: center; border-radius: 8px; margin: 20px 0; }
                        .coupon-code { font-family: 'Courier New', monospace; font-size: 24px; font-weight: bold; color: #065F46; letter-spacing: 2px; }
                        .cta-button { display: inline-block; background: #10B981; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; margin-top: 20px; }
                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; font-size: 12px; color: #666; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>Welcome to GreenGlo Cleaning Co!</h1>
                        <p>Your premium eco-friendly cleaning service</p>
                    </div>
                    <div class="content">
                        <h2> Your Exclusive 10% Discount!</h2>
                        <p>Thank you for subscribing! Here's your special discount code for your first clean with us:</p>
                        
                        <div class="coupon-box">
                            <h3>Use this code at checkout:</h3>
                            <div class="coupon-code">${EMAIL_CONFIG.couponCode}</div>
                            <p><strong>${EMAIL_CONFIG.couponPercent}% off your first cleaning service</strong></p>
                        </div>
                        
                        <p><strong>How to use your discount:</strong></p>
                        <ol>
                            <li>Contact us via WhatsApp or book online</li>
                            <li>Mention the code <strong>${EMAIL_CONFIG.couponCode}</strong></li>
                            <li>Get ${EMAIL_CONFIG.couponPercent}% off your first clean!</li>
                        </ol>
                        
                        <p><strong>Important:</strong> This code is valid for first-time customers only and can be used once.</p>
                        
                        <a href="https://api.whatsapp.com/send?phone=447827784204&text=Hello%20GreenGlo%2C%20I%27d%20like%20to%20use%20my%2010%25%20discount%20code%20${EMAIL_CONFIG.couponCode}" class="cta-button">
                             Book Now on WhatsApp
                        </a>
                        
                        <div class="footer">
                            <p><strong>GreenGlo Cleaning Co</strong><br>
                            London, UK<br>
                            Phone: 07827 784204<br>
                            Email: info@greenglocleaningco.com</p>
                            <p>You're receiving this email because you subscribed for our discount offer.</p>
                        </div>
                    </div>
                </body>
                </html>
            `;
        }

        // Create text email content
        function createEmailText(email) {
            return `
Welcome to GreenGlo Cleaning Co!

Your exclusive discount code: ${EMAIL_CONFIG.couponCode}

Get ${EMAIL_CONFIG.couponPercent}% off your first cleaning service with us. This code is valid for first-time customers only.

How to use:
1. Contact us via WhatsApp or book online
2. Mention the code ${EMAIL_CONFIG.couponCode}
3. Get ${EMAIL_CONFIG.couponPercent}% off your first clean!

Book now via WhatsApp: https://api.whatsapp.com/send?phone=447827784204

GreenGlo Cleaning Co
London, UK
07827 784204
info@greenglocleaningco.com
            `;
        }

        // Save email locally as backup
        function saveEmailLocally(email) {
            try {
                const savedEmails = JSON.parse(localStorage.getItem('greenglo_emails_backup') || '[]');
                savedEmails.push({
                    email: email,
                    couponCode: EMAIL_CONFIG.couponCode,
                    timestamp: new Date().toISOString()
                });
                localStorage.setItem('greenglo_emails_backup', JSON.stringify(savedEmails));
                console.log('Email saved locally as backup:', email);
            } catch (error) {
                console.error('Error saving email locally:', error);
            }
        }

        // Handle form submission
        discountForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = userEmailInput.value.trim();
            
            // Validate email
            if (!validateEmail(email)) {
                userEmailInput.classList.add('error');
                emailError.classList.add('show');
                userEmailInput.focus();
                return;
            }
            
            // Clear errors
            userEmailInput.classList.remove('error');
            emailError.classList.remove('show');
            
            // Disable submit button
            submitEmailBtn.disabled = true;
            submitEmailBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            
            try {
                // Save to Supabase
                const supabaseResult = await saveEmailToSupabase(email);
                
                if (!supabaseResult.success) {
                    console.warn('Supabase save failed, but continuing...');
                }
                
                // Send email via Mailjet
                const mailjetResult = await sendDiscountEmail(email);
                
                if (!mailjetResult.success) {
                    console.warn('Mailjet failed, but email might be saved');
                }
                
                // Show success message
                sentEmail.textContent = email;
                couponCodeDisplay.textContent = EMAIL_CONFIG.couponCode;
                emailForm.style.display = 'none';
                successMessage.classList.add('show');
                
                // Save success state
                localStorage.setItem('greenglo_discount_received', 'true');
                localStorage.setItem('greenglo_user_email', email);
                
                // Track conversion in analytics
                if (window.GreenGloAnalytics) {
                    window.GreenGloAnalytics.trackConversion('email_subscription', null, email, 'discount_code');
                }
                
                // Close popup after 10 seconds
                setTimeout(() => {
                    if (emailPopup.classList.contains('active')) {
                        closePopup();
                    }
                }, 10000);
                
            } catch (error) {
                console.error('Error processing request:', error);
                // Show error to user
                emailError.textContent = 'There was an error. Please try again or contact us directly.';
                emailError.classList.add('show');
                userEmailInput.classList.add('error');
            } finally {
                // Re-enable button
                submitEmailBtn.disabled = false;
                submitEmailBtn.innerHTML = '<i class="fas fa-gift"></i> Get My 10% Discount Code';
            }
        });

        // Event Listeners for Email Popup
        closeEmailPopup.addEventListener('click', closePopup);
        emailPopup.addEventListener('click', (e) => {
            if (e.target === emailPopup) {
                closePopup();
            }
        });

        // Close with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && emailPopup.classList.contains('active')) {
                closePopup();
            }
        });

        // Initialize email popup when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Show popup after delay
            showEmailPopup();
            
            // Pre-fill email if previously entered
            const savedEmail = localStorage.getItem('greenglo_user_email');
            if (savedEmail) {
                userEmailInput.value = savedEmail;
            }
        });

        // =============================================
        // SQL for Supabase Table Creation
        // =============================================
        /*
        Run this SQL in your Supabase SQL Editor to create the necessary table:
        
        CREATE TABLE newsletter_subscribers (
            id BIGSERIAL PRIMARY KEY,
            email VARCHAR(255) UNIQUE NOT NULL,
            coupon_code VARCHAR(50) DEFAULT 'NEWCUSTOMER10',
            coupon_sent BOOLEAN DEFAULT false,
            coupon_used BOOLEAN DEFAULT false,
            source VARCHAR(100) DEFAULT 'website_popup',
            created_at TIMESTAMPTZ DEFAULT NOW(),
            updated_at TIMESTAMPTZ DEFAULT NOW()
        );

        -- Create index for faster queries
        CREATE INDEX idx_newsletter_email ON newsletter_subscribers(email);
        CREATE INDEX idx_newsletter_created_at ON newsletter_subscribers(created_at);
        
        -- Alternative table name if you prefer:
        CREATE TABLE email_subscribers (
            id BIGSERIAL PRIMARY KEY,
            email VARCHAR(255) UNIQUE NOT NULL,
            coupon_code VARCHAR(50) DEFAULT 'NEWCUSTOMER10',
            coupon_sent BOOLEAN DEFAULT false,
            coupon_used BOOLEAN DEFAULT false,
            source VARCHAR(100) DEFAULT 'website_popup',
            created_at TIMESTAMPTZ DEFAULT NOW(),
            updated_at TIMESTAMPTZ DEFAULT NOW()
        );
        */

        // =============================================
        // FIXED ANALYTICS TRACKING SYSTEM
        // =============================================
        const ANALYTICS_CONFIG = {
            supabaseUrl: 'https://faxjeniohetefqwcsefi.supabase.co',
            supabaseKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZheGplbmlvaGV0ZXF3Y3NlZmkiLCJyb2xlIjoic2VydmljZV9yb2xlIiwiaWF0IjoxNzE5MzIyNTM5LCJleHAiOjIwMzQ4OTg1Mzl9.a31689c908b6e163c2135ef0c9093bc8',
            trackingEnabled: true,
            sessionTimeout: 30 * 60 * 1000, // 30 minutes
            pageviewTimeout: 10 * 1000, // 10 seconds for time on page
            debugMode: false
        };

        // Analytics state
        let analytics = {
            sessionId: null,
            currentPage: null,
            lastActivity: Date.now(),
            pageStartTime: Date.now(),
            scrollDepth: 0,
            sessionStartTime: Date.now(),
            deviceInfo: {},
            utmParams: {}
        };

        // Initialize analytics
        function initAnalytics() {
            try {
                console.log('[Analytics] Initializing...');
                
                // Generate session ID
                analytics.sessionId = generateSessionId();
                
                // Get device and browser information
                analytics.deviceInfo = getDeviceInfo();
                
                // Parse UTM parameters
                analytics.utmParams = getUtmParams();
                
                // Start tracking
                startSessionTracking();
                setupEventListeners();
                trackPageView();
                
                // Set up session timeout
                setInterval(checkSessionTimeout, 60000); // Check every minute
                
                console.log('[Analytics] Tracking initialized successfully');
                
            } catch (error) {
                console.error('[Analytics] Initialization error:', error);
            }
        }

        // Generate unique session ID
        function generateSessionId() {
            const storedSessionId = localStorage.getItem('gg_session_id');
            const lastSessionTime = localStorage.getItem('gg_session_time');
            const now = Date.now();
            
            // If session exists and is less than 30 minutes old, keep it
            if (storedSessionId && lastSessionTime && (now - parseInt(lastSessionTime)) < ANALYTICS_CONFIG.sessionTimeout) {
                return storedSessionId;
            }
            
            // Generate new session ID
            const sessionId = 'gg_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('gg_session_id', sessionId);
            localStorage.setItem('gg_session_time', now.toString());
            
            return sessionId;
        }

        // Get device and browser information
        function getDeviceInfo() {
            const ua = navigator.userAgent;
            let deviceType = 'desktop';
            let browser = 'unknown';
            let os = 'unknown';
            
            // Detect device type
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {
                deviceType = 'mobile';
            } else if (/Tablet|iPad/i.test(ua)) {
                deviceType = 'tablet';
            }
            
            // Detect browser
            if (ua.includes('Chrome') && !ua.includes('Edg')) {
                browser = 'Chrome';
            } else if (ua.includes('Firefox')) {
                browser = 'Firefox';
            } else if (ua.includes('Safari') && !ua.includes('Chrome')) {
                browser = 'Safari';
            } else if (ua.includes('Edg')) {
                browser = 'Edge';
            }
            
            // Detect OS
            if (ua.includes('Windows')) {
                os = 'Windows';
            } else if (ua.includes('Mac OS')) {
                os = 'macOS';
            } else if (ua.includes('Linux')) {
                os = 'Linux';
            } else if (ua.includes('Android')) {
                os = 'Android';
            } else if (ua.includes('iOS') || ua.includes('iPhone') || ua.includes('iPad')) {
                os = 'iOS';
            }
            
            return {
                deviceType,
                browser,
                os,
                screenResolution: `${screen.width}x${screen.height}`,
                language: navigator.language || navigator.userLanguage,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
            };
        }

        // Parse UTM parameters from URL
        function getUtmParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                source: params.get('utm_source') || document.referrer ? getReferrerSource(document.referrer) : 'direct',
                medium: params.get('utm_medium') || 'organic',
                campaign: params.get('utm_campaign') || '',
                term: params.get('utm_term') || '',
                content: params.get('utm_content') || ''
            };
        }

        // Determine referrer source
        function getReferrerSource(referrer) {
            if (!referrer) return 'direct';
            
            try {
                const referrerUrl = new URL(referrer);
                const hostname = referrerUrl.hostname;
                
                if (hostname.includes('google') || hostname.includes('bing') || hostname.includes('yahoo')) {
                    return 'organic';
                } else if (hostname.includes('facebook') || hostname.includes('instagram') || hostname.includes('tiktok')) {
                    return 'social';
                } else {
                    return 'referral';
                }
            } catch {
                return 'direct';
            }
        }

        // Start session tracking
        async function startSessionTracking() {
            try {
                const isFirstVisit = !localStorage.getItem('gg_first_visit');
                if (isFirstVisit) {
                    localStorage.setItem('gg_first_visit', 'true');
                }
                
                const sessionData = {
                    session_id: analytics.sessionId,
                    user_id: getUserId(),
                    device_type: analytics.deviceInfo.deviceType,
                    browser: analytics.deviceInfo.browser,
                    os: analytics.deviceInfo.os,
                    screen_resolution: analytics.deviceInfo.screenResolution,
                    language: analytics.deviceInfo.language,
                    timezone: analytics.deviceInfo.timezone,
                    is_first_visit: isFirstVisit,
                    utm_source: analytics.utmParams.source,
                    utm_medium: analytics.utmParams.medium,
                    utm_campaign: analytics.utmParams.campaign,
                    utm_term: analytics.utmParams.term,
                    utm_content: analytics.utmParams.content,
                    referrer: document.referrer || '',
                    landing_page: window.location.pathname,
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                };
                
                // Store session data locally
                sessionStorage.setItem('current_session', JSON.stringify(sessionData));
                
                // Try to send to Supabase if configured
                if (ANALYTICS_CONFIG.supabaseKey) {
                    try {
                        const analyticsClient = supabase.createClient(
                            ANALYTICS_CONFIG.supabaseUrl,
                            ANALYTICS_CONFIG.supabaseKey
                        );
                        
                        const { error } = await analyticsClient
                            .from('analytics_sessions')
                            .insert([sessionData]);
                        
                        if (error) {
                            console.warn('[Analytics] Error logging session:', error);
                        }
                    } catch (error) {
                        console.warn('[Analytics] Could not send session data:', error);
                    }
                }
                
                console.log('[Analytics] Session started:', analytics.sessionId);
                
            } catch (error) {
                console.error('[Analytics] Error starting session:', error);
            }
        }

        // Get user ID (from cookie or generate anonymous)
        function getUserId() {
            let userId = localStorage.getItem('gg_user_id');
            if (!userId) {
                userId = 'anon_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('gg_user_id', userId);
            }
            return userId;
        }

        // Track page view
        async function trackPageView() {
            try {
                analytics.currentPage = window.location.href;
                analytics.pageStartTime = Date.now();
                analytics.scrollDepth = 0;
                
                const pageviewData = {
                    session_id: analytics.sessionId,
                    page_url: window.location.href,
                    page_title: document.title,
                    page_path: window.location.pathname,
                    referrer: document.referrer || '',
                    metadata: {
                        scroll_depth: 0,
                        time_on_page: 0
                    },
                    created_at: new Date().toISOString()
                };
                
                // Try to send to Supabase if configured
                if (ANALYTICS_CONFIG.supabaseKey) {
                    try {
                        const analyticsClient = supabase.createClient(
                            ANALYTICS_CONFIG.supabaseUrl,
                            ANALYTICS_CONFIG.supabaseKey
                        );
                        
                        const { error } = await analyticsClient
                            .from('analytics_pageviews')
                            .insert([pageviewData]);
                        
                        if (error) {
                            console.warn('[Analytics] Error logging pageview:', error);
                        }
                    } catch (error) {
                        console.warn('[Analytics] Could not send pageview data:', error);
                    }
                }
                
                // Update last activity
                analytics.lastActivity = Date.now();
                
                // Track time on page when leaving
                window.addEventListener('beforeunload', trackTimeOnPage);
                
                // Start scroll tracking
                startScrollTracking();
                
                console.log('[Analytics] Pageview tracked:', window.location.href);
                
            } catch (error) {
                console.error('[Analytics] Error tracking pageview:', error);
            }
        }

        // Track time on page
        function trackTimeOnPage() {
            const timeOnPage = Math.round((Date.now() - analytics.pageStartTime) / 1000);
            
            // Store time on page data locally
            const timeData = {
                session_id: analytics.sessionId,
                page_url: analytics.currentPage,
                time_on_page: timeOnPage,
                scroll_depth: analytics.scrollDepth
            };
            
            console.log('[Analytics] Time on page:', timeOnPage, 'seconds');
        }

        // Start scroll tracking
        function startScrollTracking() {
            let scrollTracked25 = false;
            let scrollTracked50 = false;
            let scrollTracked75 = false;
            let scrollTracked100 = false;
            
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercentage = (scrollTop / scrollHeight) * 100;
                
                analytics.scrollDepth = Math.max(analytics.scrollDepth, scrollPercentage);
                
                // Track scroll milestones
                if (scrollPercentage >= 25 && !scrollTracked25) {
                    scrollTracked25 = true;
                    trackEvent('scroll', 'page_scroll', '25%', scrollPercentage);
                }
                if (scrollPercentage >= 50 && !scrollTracked50) {
                    scrollTracked50 = true;
                    trackEvent('scroll', 'page_scroll', '50%', scrollPercentage);
                }
                if (scrollPercentage >= 75 && !scrollTracked75) {
                    scrollTracked75 = true;
                    trackEvent('scroll', 'page_scroll', '75%', scrollPercentage);
                }
                if (scrollPercentage >= 95 && !scrollTracked100) {
                    scrollTracked100 = true;
                    trackEvent('scroll', 'page_scroll', '100%', scrollPercentage);
                }
            });
        }

        // Track user events
        async function trackEvent(eventType, category, label, value = null, element = null) {
            try {
                const eventData = {
                    session_id: analytics.sessionId,
                    event_type: eventType,
                    event_category: category,
                    event_label: label,
                    event_value: value,
                    element_id: element?.id || null,
                    element_class: element?.className || null,
                    element_text: element?.textContent?.substring(0, 100) || null,
                    page_url: window.location.href,
                    metadata: {
                        timestamp: Date.now(),
                        scroll_position: window.pageYOffset
                    },
                    created_at: new Date().toISOString()
                };
                
                // Update last activity
                analytics.lastActivity = Date.now();
                
                // Try to send to Supabase if configured
                if (ANALYTICS_CONFIG.supabaseKey) {
                    try {
                        const analyticsClient = supabase.createClient(
                            ANALYTICS_CONFIG.supabaseUrl,
                            ANALYTICS_CONFIG.supabaseKey
                        );
                        
                        const { error } = await analyticsClient
                            .from('analytics_events')
                            .insert([eventData]);
                        
                        if (error) {
                            console.warn('[Analytics] Error logging event:', error);
                        }
                    } catch (error) {
                        console.warn('[Analytics] Could not send event data:', error);
                    }
                }
                
                // Log for debugging
                if (ANALYTICS_CONFIG.debugMode) {
                    console.log(`[Analytics] Event: ${category} - ${label}`, eventData);
                }
                
            } catch (error) {
                console.error('[Analytics] Error tracking event:', error);
            }
        }

        // Track conversion
        async function trackConversion(conversionType, bookingId = null, customerEmail = null, serviceType = null, estimatedValue = null) {
            try {
                const conversionData = {
                    session_id: analytics.sessionId,
                    conversion_type: conversionType,
                    booking_id: bookingId,
                    customer_email: customerEmail,
                    service_type: serviceType,
                    estimated_value: estimatedValue,
                    pageviews_to_convert: getPageviewCount(),
                    days_to_convert: Math.round((Date.now() - analytics.sessionStartTime) / (1000 * 60 * 60 * 24)),
                    utm_source: analytics.utmParams.source,
                    utm_medium: analytics.utmParams.medium,
                    utm_campaign: analytics.utmParams.campaign,
                    created_at: new Date().toISOString()
                };
                
                // Try to send to Supabase if configured
                if (ANALYTICS_CONFIG.supabaseKey) {
                    try {
                        const analyticsClient = supabase.createClient(
                            ANALYTICS_CONFIG.supabaseUrl,
                            ANALYTICS_CONFIG.supabaseKey
                        );
                        
                        const { error } = await analyticsClient
                            .from('analytics_conversions')
                            .insert([conversionData]);
                        
                        if (error) {
                            console.warn('[Analytics] Error logging conversion:', error);
                        }
                    } catch (error) {
                        console.warn('[Analytics] Could not send conversion data:', error);
                    }
                }
                
                console.log(`[Analytics] Conversion tracked: ${conversionType}`);
                
            } catch (error) {
                console.error('[Analytics] Error tracking conversion:', error);
            }
        }

        // Get pageview count for current session
        function getPageviewCount() {
            return parseInt(sessionStorage.getItem('pageview_count') || '1');
        }

        // Check session timeout
        function checkSessionTimeout() {
            const inactiveTime = Date.now() - analytics.lastActivity;
            if (inactiveTime > ANALYTICS_CONFIG.sessionTimeout) {
                // Session expired, create new one
                analytics.sessionId = generateSessionId();
                startSessionTracking();
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Track button clicks
            document.addEventListener('click', function(e) {
                const target = e.target;
                
                // Check if it's a button or link
                if (target.tagName === 'BUTTON' || target.tagName === 'A' || target.closest('button') || target.closest('a')) {
                    const button = target.tagName === 'BUTTON' || target.closest('button') ? 
                                  (target.tagName === 'BUTTON' ? target : target.closest('button')) :
                                  (target.tagName === 'A' ? target : target.closest('a'));
                    
                    const text = button.textContent?.trim().substring(0, 50) || button.getAttribute('aria-label') || 'Unknown';
                    const id = button.id || 'no-id';
                    
                    trackEvent('click', 'button', text, null, button);
                    
                    // Special tracking for important buttons
                    if (button.textContent?.includes('Quote') || button.textContent?.includes('Get Quote') || button.textContent?.includes('Free Quote')) {
                        trackEvent('click', 'conversion', 'quote_request_click', null, button);
                    }
                    if (button.textContent?.includes('Book') || button.textContent?.includes('Schedule') || button.textContent?.includes('Appointment')) {
                        trackEvent('click', 'conversion', 'booking_click', null, button);
                    }
                    if (button.textContent?.includes('WhatsApp') || button.getAttribute('href')?.includes('whatsapp')) {
                        trackEvent('click', 'messaging', 'whatsapp_click', null, button);
                    }
                }
            });
            
            // Track form submissions
            document.addEventListener('submit', function(e) {
                const form = e.target;
                trackEvent('submit', 'form', form.id || 'form_submission', null, form);
            });
            
            // Track coverage checker submissions
            document.addEventListener('click', function(e) {
                if (e.target.id === 'checkButton' || e.target.closest('#checkButton')) {
                    const postcodeInput = document.getElementById('postcodeInput');
                    if (postcodeInput && postcodeInput.value) {
                        trackEvent('submit', 'coverage_check', 'postcode_check', postcodeInput.value);
                    }
                }
            });
            
            // Track outbound links
            document.addEventListener('click', function(e) {
                const link = e.target.closest('a');
                if (link && link.href && link.hostname !== window.location.hostname) {
                    trackEvent('click', 'outbound_link', link.href, null, link);
                }
            });
            
            // Track visibility change (tab switch)
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    trackEvent('view', 'page_visibility', 'tab_hidden');
                } else {
                    trackEvent('view', 'page_visibility', 'tab_visible');
                }
            });
            
            // Track mobile menu toggle
            document.addEventListener('click', function(e) {
                if (e.target.id === 'mobileMenuBtn' || e.target.closest('#mobileMenuBtn')) {
                    trackEvent('click', 'navigation', 'mobile_menu_toggle');
                }
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize analytics
            initAnalytics();
            
            // Track page load time
            window.addEventListener('load', function() {
                const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
                trackEvent('performance', 'page_load', 'complete', loadTime);
            });
            
            // Track service area checker specifically
            const postcodeForm = document.getElementById('postcodeForm');
            if (postcodeForm) {
                postcodeForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const postcode = document.getElementById('postcodeInput').value;
                    if (postcode) {
                        // Track search term
                        trackEvent('search', 'postcode_check', postcode);
                    }
                });
            }
            
            // Track WhatsApp conversions
            const whatsappButtons = document.querySelectorAll('a[href*="whatsapp"], button[onclick*="whatsapp"]');
            whatsappButtons.forEach(button => {
                button.addEventListener('click', function() {
                    trackEvent('click', 'messaging', 'whatsapp_conversion');
                    trackConversion('whatsapp_contact');
                });
            });
        });

        // Make tracking functions available globally
        window.GreenGloAnalytics = {
            trackEvent: trackEvent,
            trackConversion: trackConversion,
            getSessionId: () => analytics.sessionId,
            getDeviceInfo: () => analytics.deviceInfo
        };

        // Debug mode
        if (ANALYTICS_CONFIG.debugMode) {
            console.log('[Analytics] Debug mode enabled');
        }
    </script>
</body>
</html>
